{% extends 'blog/all_posts/base_post.html' %}

{% load static %}

{% block post_title %}
    <a href="{% url 'blog:all-posts' %}" class="font_kor">(6) C 스타일 문자열 / 출력</a>
{% endblock post_title %}

{% block post_content %}

    {% block post_date %}
        <div class="container w-1/2 mx-auto mb-10 post_date">[ Sept 22, 2021 ]</div>    
    {% endblock post_date %}

    <main class="container w-1/2 mx-auto font_kor">
        <div id="문자열의표현과길이">
            <div class="post_heading">문자열의 표현과 길이</div>
            <div class="post_subheading">문자열과 다른 기본 자료형의 차이</div>
            <div class="post_text">
                <li>기분 자료형 : 그 자료형의 크기와 범위는 고정되어 있음</li>
                <li>문자열(문장의 크기) : 컴퓨터는 문자열을 몇 바이트로 읽어야하는지 모름</li>
                <p class="ml-7">⇒ 문자열이 기본 자료형이 아닌 이유</p>
            </div>
            <div class="post_subheading">문자열의 표현</div>
            <div class="post_text">
                <li>여러 가지 글자(문자)가 모인 것</li>
                <li>공백조차 글자!</li>
                <li>'여러 개'의 문자를 표현하려면 ⇒ 배열</li>
                <li>따라서 char str[글자수]로 표현 가능</li>
                <li>하지만 배열은 길이를 구할 수 없으므로 그 길이를 프로그래머가 따로 기억해둬야함</li>
            </div>
            <div class="post_subheading">문자열 관리 시 길이의 문제</div>
            <img src="{% static 'img/sourcecode/post9-1.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-2.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-3.png' %}">
            <div class="post_text">
                <li>배열의 길이를 저장하는 변수를 만들어 관리할 경우 여러가지 실수들이 발생할 수 있음</li>
            </div>
            <div class="post_subheading">문자열 길이 문제 해결방법 1 : 길이를 배열 첫 위치에 저장</div>
            <div class="post_text">
                <li>첫 메모리 위치에 문자열 길이를 저장하고, 실제 문자열이 뒤 따라오게 함</li>
                <div class="ml-7">
                    <p>1. unsigned char로 길이를 저장하기엔 너무 짧음 → 최대 255자</p>
                    <p>2. int로 길이를 저장하고, 그 뒤의 문자들은 char로 저장</p>
                </div>
                <li>첫 주소만 봐도 총 글자수를 알 수 있음</li>
                <li>다른 언어들은 보통 이 방식을 이용하여 문자열의 길이 저장하기 때문에 문자열의 크기를 바로 알 수 있었음</li>
                <img src="{% static 'img/sourcecode/post9-4.png' %}" class="ml-7">
                <li>단점</li>
                <div class="ml-7">
                    <p>a. 글자 하나가 1바이트인데 길이 저장에 4바이트를 쓰는 것은 비효율적 → 이러한 방식은 클래스 또는 구조체에서 쓰는 방법</p>
                    <p>b. 순수 C코드로 어떻게 작성할지 애매함</p>
                    <p class="ml-5">첫 데이터는 int*로 캐스팅해서 읽고 그 다음부터는 char*로 읽어야함</p>
                    <p class="ml-5">물론 디스크로부터 이진파일을 통째로 메모리에 읽어오면 이런 식으로 접근하기는 함</p>
                    <p class="ml-5">그러나 이걸 언어 기본으로 한다는 생각 자체가 힘듬</p>
                </div>
                <img src="{% static 'img/sourcecode/post9-5.png' %}" class="ml-7">
            </div>
            <div class="post_subheading">문자열 길이 문제 해결방법 2 : 문자열이 끝나는 위치를 표시</div>
            <div class="post_text">
                <li>그냥 char[ ]만 쓰되 그 문자열이 끝나는 위치에 특수한 문자를 두는 방법</li>
                <p class="ml-7">⇒ 배열에서 값을 찾을 수 없으면 존재할 수 없는 색인 -1을 반환하는 방식과 마찬가지</p>
                <img src="{% static 'img/sourcecode/post9-6.png' %}" class="ml-7">
                <li>아스키코드 중에 화면에 출력되지 않는 특수한 문자들이 있음</li>
                <p class="ml-7">⇒ 제어 문자(control character) : 0~31, 126</p>
                <li>그 중 하나가 바로 0</li>
                <p class="ml-7">⇒ <span class="font-bold">널 문자(null character, 널 캐릭터)</span>라고 불림</p>
                <img src="{% static 'img/sourcecode/post9-7.png' %}" class="ml-7">
                <div class="ml-7">
                    <p>a. 0은 숫자 영</p>
                    <p>b. \는 이스케이프 문자</p>
                    <p>c. 아스키코드로 0이니 char null_char = 0;으로 작성은 가능하지만 읽기 쉽게 '\0'으로 써주는 것이 좋음</p>
                </div>
            </div>
        </div>
        <div id="C스타일문자열">
            <div class="post_heading">C 스타일 문자열</div>
            <div class="post_text">
                <li>char[ ]로만 구성</li>
                <li>문자열이 끝나는 곳에 널 문자를 붙임</li>
                <li>아래 두 코드는 저장 위치 외에는 동일</li>
                <img src="{% static 'img/sourcecode/post9-8.png' %}" class="ml-7">
                <div class="ml-7">
                    <p>⇒ 문자열 뒤에 별도로 '\0'을 넣지 않아도 컴파일러가 알아서 넣어줌</p>
                    <p>⇒ char*를 이용할 땐 데이터 섹션에 배열이 들어가므로 반드시 const를 써주는 것이 좋음</p>
                </div>
                <li>아래의 경우 '\0'을 넣어주지 않음</li>
                <img src="{% static 'img/sourcecode/post9-9.png' %}" class="ml-7">
                <p class="ml-7">⇒ 이 경우는 보통 문자열이 아닌 charater를 배열로 쓸 때 사용</p>
            </div>
            <div class="post_subheading">C 스타일 문자열 예시</div>
            <img src="{% static 'img/sourcecode/post9-10.png' %}">
            <div class="post_text">
                <p>a. 문자열의 길이는 4</p>
                <p>b. 배열의 길이는 최소한 5 (언제나 배열에 널 문자도 포함되어 있음)</p>
                <p class="ml-5">⇒ 최소한 : 배열을 실제 크기보다 크게 잡고 널 문자를 마지막에 넣는 경우가 흔함</p>
            </div>
            <div class="post_subheading">C 스타일 문자열의 장단점</div>
            <div class="post_text">
                <li>장점</li>
                <div class="ml-7">
                    <p>a. 가장 최소한의 메모리</p>
                    <p>b. 한 가지의 데이터형으로 문자열과 길이를 다 표현</p>
                </div>
                <li>단점</li>
                <p class="ml-7">a. 어떤 문자열의 길이를 알려면 배열을 끝까지 훑어야함. O(N)7</p>
            </div>
        </div>
        <div id="문자열길이구하기">
            <div class="post_heading">문자열 길이 구하기</div>
            <p class="post_text">⇒ 스스로 작성할 수 있어야함! 매우 흔한 기초 면접문제! 못 맞추면 곧바로 탈락각..</p>
            <div class="post_subheading">문자열 길이를 위한 기본 개념</div>
            <div class="post_text">
                <p>1. char 배열의 요소를 처음부터 차례로 읽음</p>
                <p>2. 널 문자를 만나면 멈춤</p>
                <p>3. 여태까지 총 몇 개의 char를 방문했는지 카운트하여 반환</p>
                <img src="{% static 'img/sourcecode/post9-11.png' %}" class="ml-3">
                <p class="ml-3">⇒ 이 경우 반복문의 매 회차마다 시작주소 + i 만큼 점프</p>
                <img src="{% static 'img/sourcecode/post9-12.png' %}" class="ml-3">
                <p class="ml-3">⇒ 포인터를 이용한다면 조금 더 효율적인 코드 작성 가능</p>
            </div>
            <div class="post_subheading">문자열 길이 함수 : strlen()</div>
            <img src="{% static 'img/sourcecode/post9-13.png' %}">
            <div class="post_text">
                <li>< string.h >를 인클루드하면 사용할 수 있음</li>
                <li>위에서 만든 코드와 거의 유사함</li>
            </div>
            <div class="post_subheading">strlen 함수 사용시 가능한 실수 예제</div>
            <img src="{% static 'img/sourcecode/post9-14.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-15.png' %}">
            <div class="post_text">
                <p>⇒ 문자열의 맨 끝이 '\0'으로 끝나지 않아서 발생하는 문제들임</p>
                <li>외부에서 들어오는 문자열을 읽을 땐 조심해서 읽어야함</li>
                <li>C11의 strlen_s( ) 함수가 이 문제을 해결하기도 함</li>
                <li>strlen(str)은 그냥 읽는거니 안전할 수도 있음 -. 물론 아닐 수도 있음</li>
                <p class="ml-7">⇒ 나중에 '/0'이 나오지 않아 하드웨어가 보호하는 메모리를 읽는 경우 심각한 오류가 발생</p>
            </div>
        </div>
        <div id="문자열의비교">
            <div class="post_heading">문자열의 비교 : compare_string()</div>
            <img src="{% static 'img/sourcecode/post9-16.png' %}">
            <div class="post_text">
                <li>두 문자열 비교를 위한 매개변수는 두 문자열 포인터</li>
                <li>반환형은 아직 미정</li>
                <li>단순히 같다/틀리다를 비교하는 것이 아님</li>
                <li>사전식 순서(lexicographical order)로 '어떤 문자의 아스키코드가 더 작냐/크냐/같냐/'를 판별</li>
            </div>
            <div class="post_subheading">사전식 순서의 예</div>
            <div class="post_text">
                <li>ABCD는 ABCE보다 작음</li>
                <li>abcd는 ABCD보다 큼</li>
                <li>ABC는 ABCEFG보다 작음</li>
                <p class="ml-7">Why? 길이가 짧음 (ABC의 숨겨진 마지막 문자인 널문자와 ABCEFG의 E와 비교한다고 생각 가능)</p>
                <li>abcd는 abcd와 같음</li>
            </div>
            <div class="post_subheading">compare_string()의 반환값</div>
            <img src="{% static 'img/sourcecode/post9-17.png' %}">
            <div class="post_text">
                <li>같으면 0</li>
                <li>좌항이 작으면 < 0</li>
                <li>좌항이 크면 > 0</li>
                <li>음수도 반환하니 반환형은 int</li>
            </div>
            <div class="post_subheading">더 효율적인 문자열 비교 함수 작성하기</div>
            <img src="{% static 'img/sourcecode/post9-18.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-19.png' %}">
            <li class="post_text mb-1">문자열 비교 함수는 왠지 if문이 많을 것 같지만 간단하게 작성이 가능함</li>
            <img src="{% static 'img/sourcecode/post9-20.png' %}">
            <li class="post_text">위의 코드는 strlen( )을 구하는 과정에서 for문을 사용하기 때문에 불필요하게 for문을 여러 번 돌려 원하는 반환값을 구해냄 → 한번의 for문으로 가능한 것을 굳이 느리게 할 필요없음</li>
            <div class="post_subheading">문자열 비교 함수 1 : strcmp()</div>
            <img src="{% static 'img/sourcecode/post9-21.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-22.png' %}">
            <li class="post_text">< string.h >를 인클루드하면 사용할 수 있음</li>
            <div class="post_subheading">문자열 비교 함수 2 : strncmp()</div>
            <img src="{% static 'img/sourcecode/post9-23.png' %}">
            <li class="post_text">최대 n문자까지만 비교</li>
            <div class="post_subheading">대소문자 구분 없는 문자열 비교</div>
            <img src="{% static 'img/sourcecode/post9-24.png' %}" class="mb-6">
        </div>
        <div id="문자열복사">
            <div class="post_heading">문자열 복사</div>
            <img src="{% static 'img/sourcecode/post9-25.png' %}" class="mb-6">
            <div class="post_subheading">문자열 복사 함수 1 : strcpy()</div>
            <img src="{% static 'img/sourcecode/post9-26.png' %}">
            <div class="post_text">
                <li>< string.h >를 인클루드하면 사용할 수 있음</li>
                <li>반환값 char*는 dest를 반환 → 왜 그런지는 알 수 없음, 실제로 아무도 안 씀</li>
                <li>C11에서 나온 strcpy_s( )는 errno_t를 반환</li>
                <img src="{% static 'img/sourcecode/post9-27.png' %}" class="ml-7">
            </div>
            <div class="post_subheading">dest가 src보다 짧으면</div>
            <img src="{% static 'img/sourcecode/post9-28.png' %}">
            <div class="post_text">
                <li>남은 메모리에 덮어써버림 → 매우 위험한 함수</li>
                <li>단, src와 dest의 크기가 확실하게 통제 가능하다면 안전</li>
                <li>C11에서 이보다 안전한 strcpy_s( )라는 함수가 나옴</li>
            </div>
            <div class="post_subheading">문자열 복사 함수 2 : strncpy()</div>
            <p class="post_text mb-1">⇒ C89에서 그나마 안전한 문자열 복사 함수</p>
            <img src="{% static 'img/sourcecode/post9-29.png' %}">
            <div class="post_text mb-1">
                <li>최대 count만큼 복사 / 널 문자를 먼저 만나면 그 전에 끝냄</li>
                <li>src가 count보다 짧으면 남은걸 다 0 ('\0')으로 채워줌</li>
                <li>src가 count보다 길거나 같다면 count만큼 복사함 → 널 문자 붙일 곳 없음</li>
            </div>
            <img src="{% static 'img/sourcecode/post9-30.png' %}">
            <div class="post_text">
                <li>비교적 안전한 프로그래밍을 위해 언제나 코드 한 줄을 추가</li>
                <li>0이 앞에 붙으면 어차피 멈춤</li>
                <li>안 붙었으면 맨 마지막에 널 문자를 붙여줌</li>
            </div>
            <div class="post_subheading">정리 : strcpy()와 strncpy()</div>
            <div class="post_text">
                <p>1. strcpy( )</p>
                <div class="ml-5">
                    <li>위험할 수 있는 함수</li>
                    <li>dest 크기 < src 크기 : 잘못된 메모리 쓰기 발생</li>
                    <li>두 크기를 확실히 통제 가능하다면 안전</li>
                </div>
                <p>2. strncpy( )</p>
                <div class="ml-5">
                    <li>strcpy( )보다 안전</li>
                    <li>덜 빠름 → dest의 남은 요소를 0으로 채우기 때문</li>
                    <li>여전히 위험한 경우가 있음</li>
                    <p class="ml-7">count보다 src가 긴 경우 : 다 복사하고 널 문자가 없음 → 프로그래머가 널 문자를 넣어주는 한줄 코드가 필요함</p>
                </div>
            </div>
        </div>
        <div id="문자열합치기">
            <div class="post_heading">문자열 합치기</div>
            <div class="post_subheading">문자열 합치기 함수 1 : strcat()</div>
            <img src="{% static 'img/sourcecode/post9-31.png' %}">
            <div class="post_text">
                <li>< string.h >안에 있음</li>
                <li>src의 문자열을 dest 뒤에 덧붙이는 함수 (dest의 널 문자 위치부터 src의 문자열 추가)</li>
                <p class="ml-7">⇒ dest의 널 문자가 src[0]로 교체</p>
                <li>dest의 길이가 충분해야함</li>
                <p class="ml-7">⇒ 이 길이를 넘어 쓸 경우 정의되지 않은 결과 발생</p>
            </div>
            <div class="post_subheading">문자열 합치기 함수 2 : strncat()</div>
            <img src="{% static 'img/sourcecode/post9-32.png' %}">
            <div class="post_text mb-1">
                <li>strcat( )보다 조금 더 안전한 함수</li>
                <li>< string.h >안에 있음</li>
                <li>최대 count의 수만큼 src문자열을 dest 뒤에 덧붙이는 함수</li>
                <li>count개의 문자를 복사한 뒤, 널 문자를 가장 마지막에 붙여줌</li>
                <p class="ml-7">⇒ 따라서 최대 count +1 개의 문자를 덮어씀</p>
            </div>
            <img src="{% static 'img/sourcecode/post9-33.png' %}">
            <div class="post_text">
                <li>dest의 길이보다 길게 쓰면 마찬가지로 정의되지 않은 결과 발생</li>
                <p class="ml-7">a. 그러나 count로 이러한 경우가 발생하지 않도록 프로그래머가 제어 가능</p>
                <p class="ml-7">b. 따라서 strcat( )보다는 조금 더 안전</p>
            </div>
            <div class="post_subheading">정리 : strcat()와 strncat()</div>
            <div class="post_text">
                <p>1. strcat( )</p>
                <div class="ml-5">
                    <li>위험할 수 있는 함수</li>
                    <li>dest의 남아있는 공간 < src의 크기 → 정의되지 않은 결과 발생</li>
                    <li>두 크기를 확실히 통제할 수 있다면 안전</li>
                </div>
                <p>2. strncat( )</p>
                <div class="ml-5">
                    <li>strcat( )보다 안전 → count로 얼만큼 붙일지 제어 가능</li>
                    <li>dest의 남아있는 공간 < count의 크기 → 정의되지 않은 결과 발생</li>
                </div>
                <p>⇒ C11에서 이보다 안전한 strcat_s( ), strncat_s( ) 함수가 있음</p>
            </div>
            <div class="post_subheading">문자열 버퍼를 이용한 출력</div>
            <img src="{% static 'img/sourcecode/post9-34.png' %}" class="mb-6">
        </div>
        <div id="문자열찾기">
            <div class="post_heading">문자열 찾기</div>
            <div class="post_subheading">없는 문자열을 찾는 경우</div>
            <img src="{% static 'img/sourcecode/post9-35.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-36.png' %}" class="mb-6">
            <div class="post_subheading">존재하는 문자열을 찾는 경우</div>
            <img src="{% static 'img/sourcecode/post9-37.png' %}" class="mb-6">
            <div class="post_subheading">문자열 속에서 문자열 찾기</div>
            <img src="{% static 'img/sourcecode/post9-38.png' %}">
            <div class="post_text">
                <li>< string.h >안에 있음</li>
                <li>반환값 : char 포인터</li>
                <div class="ml-7">
                    <p>a. substr이 str에 있다면 : 해당 substr이 시작하는 주소</p>
                    <p>b. substr이 str에 없다면 : 널 포인터(NULL)</p>
                </div>
            </div>
            <div class="post_subheading">문자열 찾기의 주소반환</div>
            <div class="post_text">
                <li>C#의 string.IndexOf( )처럼 문자열의 색인을 반환하지 않고, 그렇다고 찾은 위치부터 문자열을 새로 만들어 주는것도 아닌 찾은 위치의 주소를 알려줌</li>
                <p class="ml-7">⇒ Why? 새로운 문자열을 만등러 반환할 경우 메모리 관리 측면에서 효율적이지 못하고 실수할 수 있음</p>
                <li>새 문자열을 반환하려면 메모리 어딘가에 그 문자열을 복사해야함</li>
                <div class="ml-7">
                    <p>a. 복사하는 위치가 스택이면 </p>
                    <img src="{% static 'img/sourcecode/post9-39.png' %}" class="ml-5">
                    <p class="ml-5">⇒ 함수가 끝나면 사라짐 </p>
                    <p class="ml-5">⇒ 반환값이 더이상 유효하지 않은 메모리 주소</p>
                    <p>b. 복사하는 위치가 힙이면 (동적메모리 할당) </p>
                    <img src="{% static 'img/sourcecode/post9-40.png' %}" class="ml-5">
                    <p class="ml-5">⇒ 메모리 할당을 운영체제에게 부탁해야하므로 느림</p>
                    <p class="ml-5">⇒ 더이상 사용하지 안 할 경우 프로그래머가 직접 메모리 해제 함수를 호출해야하는데 깜빡 잊고 하지 않을 수도 있음</p>
                </div>
                <li>그냥 원본에서 찾고자 하는 문자열이 시작하는 주소를 반환하는 것로 간단하게 해결</li>
                <li>추가적으로 메모리를 쓰지도 않고, 사람이 저지를 수 있는 실수도 줄일 수 있음</li>
            </div>
        </div>
        <div id="문자열토큰화">
            <div class="post_heading">문자열 토큰화</div>
            <img src="{% static 'img/sourcecode/post9-41.png' %}">
            <li class="post_text mb-1">C의 토큰화 함수는 지금까지 본 문자열 함수처럼 새로운 메모리에 할당 안함</li>
            <img src="{% static 'img/sourcecode/post9-42.png' %}">
            <div class="post_text">
                <li>토큰화를 시작하려면 문자열(msg)를 strtok( )에 넣음</li>
                <li>그 msg의 다음 토큰을 구하려면 대신 NULL</li>
                <li>더 이상 토큰이 없다면 strtok( )은 NULL을 반환</li>
                <li>두 가지 포인트</li>
                <div class="ml-7">
                    <p>1. 토큰화 하는 문자열은 const가 아님! → 원본이 바뀜</p>
                    <p>2. 함수 매개변수로 NULL이 들어올 때 그 전에 받았던 msg를 사용하니 이건 어딘가에 저장되어 있어야 함</p>
                </div>
                <li>C11에 안전한 버전의 함수가 들어옴 → strtok_s( )</li>
            </div>
        </div>
        <div id="<string.h>에있는문자열함수들">
            <div class="post_heading">< string.h >에 있는 문자열 함수들</div>
            <div class="post_text">
                <li>strlen( )</li>
                <li>strcmp( ) / strncmp( )</li>
                <li>strcpy( ) / strncpy( )</li>
                <li>strstr( )</li>
                <li>strcat( ) / strncat( )</li>
                <li>strto( )</li>
                <li>그 외 다수</li>
            </div>
        </div>
        <div id="C문자열함수들의특징">
            <div class="post_heading">C 문자열 함수들의 특징</div>
            <div class="post_text">
                <li>꽤 많은 함수들이 문자열을 절대 변경하지 않음!</li>
                <p class="ml-7">⇒ const char* 표시 필요</p>
                <li>문자열을 변경하더라도 원본은 변경하지 않으려 함 → 사본만 변경</li>
                <p class="ml-7"></p>
                <li>절대 새로운 문자열(즉, 연속된 char)을 만들어주지 않음</li>
            </div>
        </div>
        <div id="문자열을대문자또는소문자로바꾸기">
            <div class="post_heading">문자열을 대문자 또는 소문자로 바꾸기</div>
            <img src="{% static 'img/sourcecode/post9-43.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post9-42.png' %}">
            <div class="post_text">
                <li>비트마스킹 코드</li>
                <li>0x20은 십진수 32 → 이것은 아스키 값으로 동일한 대문자와 소문자 간 차이 (예 : A와 a)</li>
                <li>c & ~0x20은 c로부터 32를 빼는 것을 의미함</li>
                <div class="ml-7">
                    <p>1. a의 비트패턴 (110 0001) / z의 비트패턴 (111 1010)</p>
                    <p>2. a와 z 사이에 있는 모든 알파벳은 110 0001와 111 1010 사이의 값</p>
                    <p>3. 32의 비트패턴 (10 0000)</p>
                    <p>4. 따라서 이 숫자를 빼버리면 오른쪽으로부터 6번쨰 비트를 지우는 것과 마찬가지</p>
                    <p>5. 10 0000을 뒤집으면 01 1111이 되고 이것을 c와 비트연산 &를 하면 6번째 비트가 지워짐</p>
                </div>
            </div>

        </div>
        <div id="출력(Output)">
            <div class="post_heading">출력(Output)</div>
            <div class="post_text">
                <li>프로그램에서 프로그램 외부로 데이터를 보여주는 행위</li>
                <li>프로그램이 어떤 데이터를 출력할지 아니까 괴상한 데이터들이 없음</li>
                <p class="ml-7">⇒ 입력보다 쉬움</p>
                <li>커맨드 창에 출력/파일에 출력</li>
            </div>
        </div>
        <div id="서식지정(formatted)출력">
            <div class="post_heading">서식 지정(formatted) 출력</div>
            <div class="post_text">
                <li>C에서 출력을 논할때 가장 기본이 되는 함수</li>
                <li>세 가지 종류</li>
                <div class="ml-7">
                    <p>1. printf( ) : 콘솔창(stdout)에 출력</p>
                    <p>2. fprintf( ) : 스트림에 출력 (f; file)</p>
                    <p>3. sprintf( ) : 문자열에 출력 (s; stream)</p>
                </div>
                <li>fprintf( )와 sprintf( )는 printf( )와 작동법 동일</li>
                <p class="ml-7">⇒ 첫 번째 매개변수로 '출력할 곳'을 넣어주는 것이 유일한 차이점</p>
                <img src="{% static 'img/sourcecode/post9-45.png' %}">
            </div>
            <div class="post_subheading">printf()의 첫 번째 매개변수는 문자열</div>
            <img src="{% static 'img/sourcecode/post9-46.png' %}">
            <div class="post_text">
                <li>printf( )는 그냥 int형 변수를 넣는다고 int를 출력해주지 않음</li>
                <p class="ml-7">⇒ 함수 오버로딩 없음</p>
                <li>따라서 printf( ) 는 무조건 첫 번째 인자로 문자열을 받아야함</li>
            </div>

        </div>
        <div id="서식문자열(format string)">
            <div class="post_heading">서식 문자열(format string)</div>
            <img src="{% static 'img/sourcecode/post9-47.png' %}">
            <div class="post_text">
                <li>printf( )는 일반 문자열 혹은 서식 문자열을 매개변수로 받음</li>
                <li>서식 문자열</li>
                <div class="ml-7">
                    <p>a. %로 시작하는 문자열</p>
                    <p>b. 소수점 이하 자리수, 자릿수 정렬, 어떤 데이터(숫자, 문자)를 출력할지 등을 알려주는 문자열</p>
                    <p>c. 하나 이상의 데이터가 들어갈 수 있음</p>
                    <p>d. 이 때, 서식 지정자의 순서와 동일한 순서로 데이터들을 printf( )의 추가 매개변수로 전달</p>
                </div>
            </div>
            <div class="post_subheading">일반적인 서식 문자열 형식</div>
            <div class="post_box font-bold">% [ 플래그 ] [ 너비 ] [ .숫자 정밀도 | .문자열 최소/최대 출력 개수 ] [ 길이 ] 서식 지정자</div>
            <div class="post_text">
                <li>일반적으로 '%' 뒤에 최대 4개의 지정자를 가질 수 있음</li>
                <div class="ml-5">
                    <p>1. 플래그 (선택)</p>
                    <p>2. 너비 (선택)</p>
                    <p>3. 정밀도 (선택)</p>
                    <p class="ml-5">a. 숫자 정밀도</p>
                    <p class="ml-5">b. 문자열 최소/최대 출력 개수</p>
                    <p>4. 길이 (선택)</p>
                    <p>5. 서식 지정자 <span class="font-bold">(필수)</span></p>
                    <p>⇒ 반드시 순서를 지켜 작성해야 함</p>
                </div>
            </div>
            <div class="post_subheading">서식 지정자</div>
            <table class="mb-1 w-full table-fixed">
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">%</td>
                        <td class="post_table_border w-1/2">'%'를 출력</td>
                        <td class="post_table_border">printf("%%/n");</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">c</td>
                        <td class="post_table_border w-1/2">문자(char)를 출력</td>
                        <td class="post_table_border">printf("%c\n", 'D');</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">s</td>
                        <td class="post_table_border w-1/2">문자열(char[])를 출력</td>
                        <td class="post_table_border">printf("%s/n", "Hong");</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">d</td>
                        <td class="post_table_border w-1/2">부호있는 정수 출력</td>
                        <td class="post_table_border">printf("%d/n", -10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">u</td>
                        <td class="post_table_border w-1/2">부호없는 정수 출력</td>
                        <td class="post_table_border">printf("%u/n", 10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">o</td>
                        <td class="post_table_border w-1/2">부호없는 정수를 8진수로 출력, 숫자 앞에 0을 <span class="font-bold">안 붙여줌</span></td>
                        <td class="post_table_border">printf("%o/n", 10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">x</td>
                        <td class="post_table_border w-1/2">부호없는 정수를 8진수(소문자)로 출력, 숫자 앞에 0x을 <span class="font-bold">안 붙여줌</span></td>
                        <td class="post_table_border">printf("%x/n", 10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">X</td>
                        <td class="post_table_border">부호없는 정수를 8진수(대문자)로 출력, 숫자 앞에 0X을 <span class="font-bold">안 붙여줌</span></td>
                        <td class="post_table_border">printf("%X/n", 10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">f</td>
                        <td class="post_table_border w-1/2">부동소수점 출력</td>
                        <td class="post_table_border">printf("%f/n", 3.14);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">e/E</td>
                        <td class="post_table_border w-1/2">부동소수점을 지수표기법으로 출력</td>
                        <td class="post_table_border">printf("%e/n", 10); / printf("%E/n", 10);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">p</td>
                        <td class="post_table_border w-1/2">포인터값을 출력</td>
                        <td class="post_table_border">printf("%p/n", (void*)name);</td>
                    </tr>
                </tbody>
            </table>
            <div class="post_text">
                <li>서식 문자라고도 함</li>
                <li>'%'가 서식 문자열에서 사용 중이므로 출력하려면 어쩔 수 없이 반복</li>
                <li>"%s" 쓸바엔 그냥 문자열로 곧바로 printf( )해도 됨</li>
                <p class="ml-7">⇒ 단 문자열 두 개 합치거나 문자열 + 숫자 합쳐서 출력할 땐 유용함</p>
                <img src="{% static 'img/sourcecode/post9-48.png' %}" class="ml-7">
                <li>"%u"에 부호있는 수를 넣을 경우, 해당 수의 비트패턴에 해당하는 부호없는 수가 출력</li>
                <img src="{% static 'img/sourcecode/post9-49.png' %}" class="ml-7">
                <li>"%X"는 있는데 "%O"가 없는 이유</li>
                <p class="ml-7">⇒ 8진수는 숫자로만 이루어져 있기 때문</p>
                <li>"%p"는 주소를 출력하는데 void*만 받음</li>
                <p class="ml-7">⇒ 모든 주소는 어차피 길이가 같다고 했으니 어떤 포인터를 void*로 캐스팅해도 안전</p>
            </div>
            <div class="post_subheading">플래그</div>
            <table class="mb-1 w-full table-fixed">
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">-</td>
                        <td class="post_table_border w-1/2">왼쪽 정렬</td>
                        <td class="post_table_border">printf("%-5d/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">0</td>
                        <td class="post_table_border w-1/2">빈 공백을 0으로 채워줌</td>
                        <td class="post_table_border">printf("%05d/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">+</td>
                        <td class="post_table_border w-1/2">항상 부호(+/-)를 표시</td>
                        <td class="post_table_border">printf("%+5d/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">공백</td>
                        <td class="post_table_border w-1/2">양수인 경우에도 부호칸을 비워둠</td>
                        <td class="post_table_border">printf("% d/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">#o</td>
                        <td class="post_table_border w-1/2">부호없는 정수를 8진수로 출력, 숫자 앞에 항상 '0'이 붙음</td>
                        <td class="post_table_border">printf("%#o/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">#x</td>
                        <td class="post_table_border w-1/2">부호없는 정수를 16진수(소문자)로 출력, 숫자 앞에 항상 '0x'이 붙음</td>
                        <td class="post_table_border">printf("%#x/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">#X</td>
                        <td class="post_table_border w-1/2">부호없는 정수를 16진수(대문자)로 출력, 숫자 앞에 항상 '0x'이 붙음</td>
                        <td class="post_table_border">printf("%#X/n", number);</td>
                    </tr>
                </tbody>
            </table>
            <div class="post_text">
                <li>'-' : 기본은 오른쪽 정렬</li>
                <li>' ' : '+'가 있을ㅇ 경우 무시됨</li>
                <li>'+' : 기본은 음수 기호만 출력</li>
                <li>'0' : '-'가 있을 경우 무시됨</li>
                <li>'#'</li>
                <div class="ml-7">
                    <p>a. 어디에 붙이냐에 따라 의미가 달라지며, 그나마 유용한 곳은 x나 X에 붙일 때</p>
                    <p>b. "#x/X/o"를 쓸때는 다른 플래그나 서식 지정자 'd'를 붙이지 않음</p>
                    <p>⇒ '-'는 붙일 수 있으나 의미 없음</p>
                </div>
            </div>
            <div class="post_subheading">정밀도</div>
            <div class="post_text">
                <li>서식 지정자 'f'와 함꼐 사용</li>
                <div class="ml-7">
                    <p>a. '최소 너비. 소수점 아랫자리 수'</p>
                    <p>b. (소수점 포함) 원래 숫자의 너비보다 최소 너비가 크면 공백으로 채움</p>
                    <p>c. (소수점 포함하지 않음) 원래 숫자의 소수점 아랫자리 수보다 소수점 아랫자리수가 크면 0으로 채움</p>
                    <p>d. 기본 수수점 아랫자리 수 : 6</p>
                </div>
                <li>서식 지정자 's'와 함꼐 사용</li>
                <div class="ml-7">
                    <p>a. '최소너비.최대너비'</p>
                    <p>b. 출력할 문자열의 길이가 최소 너비보다 작으면 왼쪽을 공백으로 채움</p>
                    <p>c. 출력할 문자열의 길이가 최대 너비보다 크면 자름</p>
                </div>
            </div>
            <div class="post_subheading">길이 수정자(length modifier)</div>
            <table class="mb-1 w-full table-fixed">
                <thead class="text-center bg-yellow-100">
                    <tr>
                      <th class="w-1/6 post_table_border">길이 수정자</th>
                      <th class="w-1/6 post_table_border">서식 지정자</th>
                      <th class="post_table_border"></th>
                      <th class="post_table_border"></th>
                  </thead>
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100"></td>
                        <td class="post_table_border bg-yellow-100">d</td>
                        <td class="post_table_border">int</td>
                        <td class="post_table_border">printf("%d/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">l</td>
                        <td class="post_table_border bg-yellow-100">d</td>
                        <td class="post_table_border">long int</td>
                        <td class="post_table_border">printf("%ld/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100"></td>
                        <td class="post_table_border bg-yellow-100">f</td>
                        <td class="post_table_border">double</td>
                        <td class="post_table_border">printf("%f/n", number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">L</td>
                        <td class="post_table_border bg-yellow-100 w-1/6">f</td>
                        <td class="post_table_border">long double</td>
                        <td class="post_table_border">printf("%lf/n", number);</td>
                    </tr>
                </tbody>
            </table>
            <div class="post_text">
                <li>인자의 바이트 크기를 지정해줌</li>
                <li>몇 가지가 있지만 'l'(소문자 L)과 ' L'이 그나마 유용함</li>
                <div class="ml-7">
                    <p>a. 하지만 최근 플랫폼에선 별 의미가 없음</p>
                    <p>b. int == long int, double == long double인 경우가 보통</p>
                    <p>c. 설사 위의 경우가 아니더라도 long double은 잘 사용하지 않음</p>
                    <img src="{% static 'img/sourcecode/post9-50.png' %}">
                </div>
            </div>
            <div class="post_subheading">퀴즈</div>
            <img src="{% static 'img/sourcecode/post9-51.png' %}" class="mb-6">
            <div class="post_subheading">ASCII 표 그리기</div>
            <img src="{% static 'img/sourcecode/post9-52.png' %}" class="mb-6">
            <div class="post_subheading">바이트 단위 변환 표</div>
            <img src="{% static 'img/sourcecode/post9-53.png' %}" class="mb-6">
            <div class="post_subheading">서식 문자열이 필요한 이유</div>
            <div class="post_text">
                <li>일단 오버로딩 없음 ⇒ printf(int), printf(char) 불가능</li>
                <li>임시 문자열 등을 자동으로 생성 안 해줌</li>
                <img src="{% static 'img/sourcecode/post9-54.png' %}" class="ml-7">
                <li>물론 strcat( )을 이용해서 프로그래머가 직접 임시 문자열을 관리할 수 있음</li>
                <li>서식 문자열은 추가 메모리 할당 없이 있는 자료형을 출력스트림에 문자들로 출력해줌</li>
            </div>
            <div class="post_subheading">fprintf()</div>
            <img src="{% static 'img/sourcecode/post9-55.png' %}">
            <div class="post_text">
                <li>스트림을 사용</li>
                <li>보통 프로그램이 실행할 때 기본적으로 3개의 스트림을 줌</li>
                <div class="ml-7">
                    <p>1. stdout (콘솔 출력)</p>
                    <p class="ml-5">a. 이제까지 계속 봐왔던 콘솔 스트림</p>
                    <p class="ml-5">b. 라인 버퍼링(line buffering) 사용</p>
                    <p>2. stdin (콘솔 입력)</p>
                    <p>3. stderr (콘솔 출력; 오류 메세지를 출력하는 스트림)</p>
                    <p class="ml-5">⇒ 이 3개의 스트림을 표준 스트림(standard stream)이라 함</p>
                <li>모든 출력 스트림에 사용 가능</li>
                <p class="ml-7">⇒ 첫 인자로 들어가는 스트림만 달라지고, 나머지는 매개변수 그대로</p>
                </div>
            </div>
            <div class="post_box mb-6">
                <p class="font-bold">< 버퍼링 ></p>
                <li>출력할 내용이 있어도 곧바로 출력하지 않고 쌓아둠</li>
                <li>어느정도 버퍼가 차면 그제서야 출력</li>
                <p class="font-bold">< 버퍼링의 종류 ></p>
                <li>풀 버퍼링(full buffering)</li>
                <p class="ml-7">⇒ 버퍼가 가득 차면 비움</p>
                <p class="ml07">⇒ 강제로 버퍼를 비우고 싶다면 fflush(stdout);을 호출하면 됨</p>
                <li>라인 버퍼링(line buffering)</li>
                <p class="ml-7">⇒ 1) 버퍼가 꽉 차거나 2) 버퍼에 '/n'가 들어오면 버퍼를 비움</p>
                <p class="ml-7">⇒ 강제로 버퍼를 비우고 싶다면 fflush(stdout);을 호출하면 됨</p>
                <li>버퍼링 없음(no buffering)</li>
                <p class="ml-7">⇒ 버퍼를 사용하지 않음</p>
                <li>표준에서 stdout, stderr, stdin의 버퍼링 종류를 지정하지 않음 (구현에 따라 다를 수 있음)</li>
            </div>
            <div class="post_subheading">sprintf()</div>
            <img src="{% static 'img/sourcecode/post9-56.png' %}">
            <div class="post_text">
                <li>C에 문자열 스트림은 없지만 그 대신 sprintf( )가 있음</li>
                <li>그냥 char 배열에 출력</li>
                <li>굉장히 많이 쓰임 → 심지어 C++에서 string 클래스가 있는데도 이걸 대신 많이 씀</li>
                <p class="ml-7">Why? 속도 때문 (가장 빨리 문장려을 조작하는 함수는 C 함수)</p>
                <li>다만 프로그래머가 충분히 큰 버퍼를 잡아주지 않으면 위험함</li>
            </div>
            <img src="{% static 'img/sourcecode/post9-57.png' %}">
            <div class="post_text">
                <li>안전하지 않음 ⇒ strcpy( ), strcat( )와 같은 이유</li>
                <li>안전하게 돌아가게 하기 위한 n이 들어가는 함수</li>
                <p class="ml-7">a. C89에는 없음</p>
                <p class="ml-7">b. C99에 들어옴 → snprintf( )</p>
                <li>대신 표준은 아니지만 컴파일러마다 다르게 제공하는 함수가 있음</li>
                <p class="ml-7">예 :  마이크로소프트 비주얼 C의 _snprintf( )</p>
                <p class="ml-7">그러나 표준이 아니라서 작동하는 방법이 다름</p>
            </div>
        </div>
        <div id="기타출력함수">
            <div class="post_heading">기타 출력 함수</div>
            <div class="post_subheading">puts()</div>
            <img src="{% static 'img/sourcecode/post9-58.png' %}">
            <div class="post_text">
                <li>문자열을 stdout에 출력</li>
                <li>fputs(str, stdout)와 매우 비슷</li>
            </div>
            <div class="post_subheading">putchar()</div>
            <img src="{% static 'img/sourcecode/post9-59.png' %}">
            <div class="post_text">
                <li>문자열을 stdout에 출력</li>
                <li>fputc(ch, stdout)과 같음</li>
            </div>
        </div>
    </main>
{% endblock post_content %}