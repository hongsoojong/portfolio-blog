{% extends 'blog/all_posts/base_post.html' %}

{% load static %}

{% block post_title %}
    <a href="{% url 'blog:all-posts' %}" class="font_kor">(7) 콘솔 입력, 파일 입출력, 커맨드 라인 인자</a>
{% endblock post_title %}

{% block post_content %}

    {% block post_date %}
        <div class="container w-1/2 mx-auto mb-10 post_date">[ Sept 25, 2021 ]</div>    
    {% endblock post_date %}

    <main class="container w-1/2 mx-auto font_kor">
        <div id="입력">
            <div class="post_heading">입력(Input)</div>
            <div class="post_text">
                <li>출력의 반대</li>
                <li>외부의 데이터를 읽어와서 프로그램에서 사용</li>
                <li>어떤 데이터가 들어올지 몰라서 괴상한 데이터가 종종 들어옴</li>
                <div class="ml-7">
                    <p>a. 사용자가 잘못된 데이터를 키보드에서 입력</p>
                    <p>b. 예전에 저장해 놓은 파일을 누가 잘못 바꿨거나 일부 데이터가 유실</p>
                </div>
            </div>
            <div class="post_subheading">출력보다 까다로운 입력</div>
            <div class="post_text">
                <li>출력에 비해 조심해야 하는 부분이 많음</li>
                <li>데이터 읽기에 실패했는데 제대로 처리 안하면 여러 가지 오류들이 팡팡 터짐</li>
                <p class="ml-7">⇒ 정말 많이 실수하는 부분임</p>
                <li>그래서 모든 입력 함수에는 반환값이 있음</li>
                <li class="font-bold">따라서 어떤 함수가 어떤 값을 반환하는지 문서에서 확실하게 읽고 코드에서 검사해야함</li>
                <li>대부분 입력 처리 코드의 문제는 반환값이 뭔지 문서를 제대로 읽지 않아서 발생함</li>
            </div>
            <div class="post_subheading">입력의 출처</div>
            <div class="post_text">
                <li>어디선가 출력을 했다면 거기서 읽어올 수 있다고 생각하면 입력이 어디서 읽어오는지 이해하기 쉬움</li>
                <li>스트림</li>
                <div class="ml-7">
                    <p>a. 콘솔 창에 출력(저장)했으니 콘솔(키보드)로부터 입력을 받아옴(읽어옴)</p>
                    <p>b. 파일에 출력(저장)했으니 파일로부터 입력을 받아옴(읽어옴)</p>
                    <p>c. 등등</p>
                </div>
                <li>문자열</li>
                <p class="ml-7">a. 문자열에 출력(저장)했으니 문자열로부터 입력을 받아옴(읽어옴)</p>
            </div>
            <div class="post_subheading">입력 처리 전략</div>
            <div class="post_text">
                <p>1. 한 글자씩 읽기</p>
                <p>2. 한 줄씩 읽기</p>
                <p>3. 한 데이터씩 읽기</p>
                <p>4. 한 블록씩 읽기</p>
            </div>
        </div>
        <div id="한글자씩읽기">
            <div class="post_heading">1) 한 글자씩 읽기</div>
            <div class="post_subheading">< 시도 1 > 한 글자씩 읽는 알고리즘</div>
            <div class="post_text">
                <p>1. 한 글자(char)를 읽어옴</p>
                <p>2. 그 글자를 필요한 곳에 사용함</p>
                <p>3. 1번 단계로 되돌아감</p>
            </div>
            <div class="post_subheading">< 시도 1 > 코드</div>
            <img src="{% static 'img/sourcecode/post10-1.png' %}" class="mb-3">
            <div class="post_box mb-6">
                <div class="post_text mb-0">
                    <p class="font-bold">[ a 입력 ]</p>
                    <p>1. 코드를 실행하면 키보드로 입력하기 전까지 c = getchar( )에 머물러 있음</p>
                    <p>2. 키보드로 a를 누르고 엔터</p>
                    <p class="ml-5">⇒ 스트림(버퍼)에 a, \n 입력이 됨</p>
                    <p>3. 대입 부분 실행 → a만 먼저 읽음</p>
                    <p>4. 화면에 a_ 출력 → 아직 줄은 바뀌지 않음 (a, a_)</p>
                    <p>5. 버퍼에 문자('\n')가 남아 있으므로 3번으로 돌아감</p>
                    <p>6. \n을 읽음</p>
                    <p>7. \n 출력</p>
                    <p>8. 줄 바뀜(a, a, _)</p>
                    <img src="{% static 'img/sourcecode/post10-2.png' %}" class="w-1/3">
                </div>
            </div>
            <div class="post_subheading">getchar()</div>
            <img src="{% static 'img/sourcecode/post10-3.png' %}">
            <div class="post_text">
                <li>키보드(stdin)으로부터 문자를 하나 읽어서 int 형으로 반환</li>
                <p class="ml-7">⇒ 많은 입출력 함수들이 문자를 읽고 쓸 때 char 대신 int를 씀</p>
                <li>fgetc(stdin)과 같음</li>
            </div>
            <div class="post_subheading">< 시도 1 > 코드의 무한루프</div>
            <div class="post_text">
                <li>위의 < 시도 1 > 알고리즘으로 코드를 작성 시 무한루프가 발생하며, 멈추기 위한 signal이 필요함</li>
            </div>
            <div class="post_subheading">getchar()의 반환값</div>
            <div class="post_box">
                <div class="post_text mb-0">
                    <p class="font-bold">Return value</p>
                    <p>The obtained character on success or EOP on failure.</p>
                    <p>If the failure has beeen caused by end-of-file condition, additionally sets the eof indicator (see feof( )) on stdin.</p>
                    <p>If the failure has been caused by some other error, sets the error indicator (see ferror( )) on stdin.</p>
                </div>
            </div>
            <div class="post_text">
                <li>성공하면 문자를, 실패하면 EOP(end-of-file)를 반환</li>
            </div>
            <div class="post_subheading">입력의 끝을 나타내는 값, 'EOF'</div>
            <div class="post_text">
                <li>C 표준에 의하면 EOF는 음수임</li>
                <li>그런데 표준에 따르면 char는 부호가 있을 수도 있고 없을 수도 있음</li>
                <li>따라서 char에 언제나 음수 값을 담는 것은 불가능</li>
                <li class="font-bold">그렇기 때문에 getchar( )는 char가 아닌 int를 반환함</li>
                <li class="font-bold">정리하자면 getchar( )값을 아스키코드로 보여줘야하고, 반환을 실패할 경우 EOP도 보여줘야하기 때문에 char가 아닌 int를 사용</li>
            </div>
            <div class="post_subheading">getchar()의 완전한 정리</div>
            <div class="post_text">
                <li>키보드(stdin)으로부터 문자를 하나 읽음</li>
                <li>반환값</li>
                <div class="ml-7">
                    <p>a. 성공 시, 읽은 문자(의 아스키코드)를 반환</p>
                    <p>b. 실패 시, EOF를 반환</p>
                </div>
                <li>fgetc(stdin)과 같음</li>
            </div>
            <div class="post_subheading">< 시도 2 > 한 글자씩 읽는 알고리즘</div>
            <div class="post_text">
                <p>1. 한 글자(char)를 읽어옴</p>
                <p>2. 글자를 읽어오는데 실패했다면(EOF) 프로그램을 종료</p>
                <p>3. 아니라면 그 글자를 필요한 곳에 사용</p>
                <p>4. 1번 단계로 되돌아감</p>
            </div>
            <div class="post_subheading">< 시도 2 > 코드</div>
            <img src="{% static 'img/sourcecode/post10-4.png' %}">
            <div class="post_subheading">EOF 키</div>
            <div class="post_text">
                <li>ctrl 키와 다른 키를 조합해서 넣음</li>
                <div class="ml-7">
                    <p>a. 윈도우 : ctrl + z</p>
                    <p>b. 유닉스와 같은 시스템들 : ctrl + d</p>
                </div>
            </div>
            <div class="post_subheading">< 시도 2 > 코드 정리</div>
            <img src="{% static 'img/sourcecode/post10-4.png' %}">
            <div class="post_text mb-0">
                <li>getchar( )가 두번 있음</li>
                <li>do while문으로 해결 불가능 ⇒ while 검사 전에 c를 사용하기 때문</li>
                <li>한번으로 줄일 수 있음</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-5.png' %}">
            <div class="post_text">
                <p>1. (c = getchar( )) : 먼저 getchar( ) 실행! 나머지는 일단 무시</p>
                <p class="ml-5">⇒ 키보드로 7을 입력했다면 7의 아스키코드(0x37)가 반환</p>
                <p>2. != EOF : 이제 c에 든 값과 EOP와 비교</p>
            </div>
            <div class="post_subheading">c = getchar()를 괄호로 감싸지 않을 경우</div>
            <img src="{% static 'img/sourcecode/post10-6.png' %}">
            <div class="post_text">
                <li>!= 연산자가 = 연산자보다 연산자 결합 우선순위가 더 높음</li>
                <li>따라서 c = (getchar( ) != EOF)가 되어버림</li>
                <p class="ml-7">⇒ 이 경우 c는 0 또는 1이 됨</p>
                <li>한 줄로 줄이는 것은 실수가 쉬움 → 그래서 요즘 다른 언어에서는 잘 하지 않는 방법</li>
            </div>
            <div class="post_subheading">한 글자씩 읽는 방법이 유용한 경우</div>
            <div class="post_text">
                <li>가장 간단한 입력 방법</li>
                <li>입력이 문자/문자열일 때 매우 좋음</li>
                <li>쓸데없이 메모리에 입력값을 저장해 두지 않아도 됨</li>
                <p class="ml-7">a. 용량 절약</p>
                <p class="ml-7">b. 실수 줄임</p>
                <li>O(N)</li>
                <p class="ml-7">a. for문 딱 한 번만 도는 알고리즘에 적합한 경우가 많음</p>
                <p class="ml-7">b. 입력값을 모두 읽어 저장해두고 for문을 돌려 처리하는 것이나 키보드로부터 한 글자씩 읽어서 곧바로 처리하는 것이나 같은 것이니, 굳이 메모리를 잡아먹지 않고 처리하는 것이 효율적일 수 있음</p>
                <li>그러나 다른 데이터형으로 쓰기는 어려움</li>
                <p class="ml-7">예 : 정수형 숫자 1004 읽기 ⇒ '1', '0', '0', '4' 이렇게 4번 읽어서 다시 정수로 변환하기 제한이 됨</p>
            </div>
            <div class="post_subheading">공백(whtiespace)과 줄 수 세기</div>
            <img src="{% static 'img/sourcecode/post10-7.png' %}">
            <div class="post_text">
                <li>whitespace</li>
                <div class="ml-7">
                    <p>a. 보통 공백문자하면 스페이스(' ')만 생각하지만 그 외 다른 것들도 있음</p>
                    <p>b. tab이나 new line 등 다양한 것들이 공백문자에 포함이 됨</p>
                </div>
                <li>is space 함수: 표준 라이브러리에서 제공 → ctype.h에 들어있음</li>
                <p class="ml-7">⇒ tab, new line 모두 찾아냄</p>
                <li>따라서 줄바꿈은 별도로 count 해줌</li>
            </div>
        </div>
        <div id="한줄씩읽기">
            <div class="post_heading">2) 한 줄씩 읽기</div>
            <div class="post_text">
                <p>⇒ new line 단위로 읽기</p>
                <p>1. 한 줄을 읽어옴</p>
                <p>2. 한 줄을 읽어오는데 실패하면 프로그램 종료</p>
                <p>3. 성공했다면 한 줄을 읽어온 데이터를 필요에 따라 사용</p>
                <p>4. 1번 단계로 되돌아감</p>
            </div>
            <div class="post_subheading">한 줄을 읽는 방법</div>
            <div class="post_text">
                <li>C에선 절대로 자동으로 함수를 불러와 새로운 문자열을 반환해주거나 하지 않음</li>
                <li>프로그래머가 미리 만든 배열을 함수에 전달하여, 그 함수가 배열의 한줄을 읽어옴</li>
                <li>한 줄을 읽어오는 함수 gets( )</li>
                <p class="ml-7">⇒ 위험한 함수!!</p>
            </div>
            <div class="post_subheading">gets()</div>
            <img src="{% static 'img/sourcecode/post10-8.png' %}">
            <div class="post_text">
                <li>stdin에서 새 줄 문자('\n') 또는 EOF를 만날 때까지 계속 문자들을 읽어서 str 배열에 저장</li>
                <p class="ml-7">⇒ 그래서 str이 const가 아님</p>
                <li>마지막 문자 바로 다음에 널 문자('\0')도 넣어줌</li>
                <li>stdin에서 새 줄 문자를 제거하지만 버퍼에 저장하지는 않음 → 올바르게 문자열을 완성시켜줌</li>
                <li>stdin에서 새 줄 문자를 제거하지만 버퍼에 저장하지는 않음</li>
            </div>
            <div class="post_subheading">gets()의 반환값</div>
            <div class="post_text">
                <li>성공 시, str</li>
                <li>실패 시, NULL(포인터) → 널 문자 아님!</li>
            </div>
            <div class="post_subheading">한 줄 읽기 코드 - 매우 위험한 코드</div>
            <img src="{% static 'img/sourcecode/post10-9.png' %}">
            <div class="post_text">
                <li class="font-bold">매우매우 위험한 함수!!</li>
                <li>C11에서는 아예 함수를 제거해버림</li>
                <li>그래서 최신 헤더파일에서는 gets( )가 더 이상 존재하지 않음</li>
                <p class="ml-7">⇒ 굳이 쓰려면 직접 함수 원형을 전방선언 해야함</p>
            </div>
            <div class="post_subheading">위험한 이유 : 버퍼 오버플로</div>
            <div class="post_text">
                <li>만약 64자 이상 입력하면 → 버퍼 오버플로 발생</li>
                <li>단순히 LINE_LENGTH를 늘리는 방식은 무한 굴레로 빠지며, 통제가 불가능함</li>
                <li>올바르지 않은 메모리 주소에 키보드로 입력한 값을 써버리게 되면서 버퍼 오버플로 발생</li>
                <li class="font-bold">절대 절대 절대 절대 gets( )를 써서는 안됨</li>
            </div>
            <div class="post_subheading">fgets()로 안전하게 한 줄 읽기</div>
            <img src="{% static 'img/sourcecode/post10-10.png' %}">
            <div class="post_text">
                <li>< stdio.h > 안에 있음</li>
                <li>최대 count - 1개의 문자열을 읽어서 str에 저장</li>
                <li>즉, 새 줄을 만나지 않아도 이 함수가 반환될 수 있음</li>
                <li>str에 새 줄 문자까지 넣어줌</li>
            </div>
            <div class="post_subheading">fgets( )의 매개 변수</div>
            <div class="post_text">
                <li><span class="font-bold">str </span>: gets( )와 마찬가지로 입력받은 한 줄을 저장할 char 배열</li>
                <p class="ml-7">⇒ 역시 const가 아님</p>
                <li><span class="font-bold">count </span>: 한 번에 str에 쓰는 최대 문자 수</li>
                <p class="ml-7">⇒ 널 문자를 포함하기 때문에 실제로 읽어오는 문자 수는 count - 1개</p>
                <li><span class="font-bold">stream </span>: 데이터를 읽어올 스트림 (키보드를 읽어오고 싶다면 stdin을 넣어주면 됨)</li>
            </div>
            <div class="post_subheading">stream의 자료형 : FILE* steam</div>
            <div class="post_text">
                <li>스트림을 제어하기 위해 필요한 정보를 담고 있는 자료형</li>
                <li>스트림을 제어하기 위해 필요한 정보</li>
                <div class="ml-7">
                    <p>1. 파일 위치 표시자</p>
                    <p>2. 스트림이 사용하는 버퍼의 포인터</p>
                    <p>3. 읽기/쓰기 중에 발생한 오류를 기록하는 오류 표시자</p>
                    <p>4. 파일 끝에 도달했음을 기록하는 EOF 지시자</p>
                </div>
                <li>플랫폼마다 이 자료형을 구현하는 방식이 다를 수 있음</li>
                <li>입력 및 출력 스트림은 오직 FILE 포인터로만 접근 및 조작 가능</li>
                <li>이름이 FILE이라 파일만 될 것 같지만 다른 스트림도 모두 표현 가능</li>
            </div>
            <div class="post_subheading">fgets()의 반환값</div>
            <div class="post_text">
                <li>gets( )와 동일</li>
                <p class="ml-7">a. 성공 시, str을 반환</p>
                <p class="ml-7">실패 시, NULL을 반환</p>
            </div>
            <div class="post_subheading">한 줄 읽기 코드</div>
            <img src="{% static 'img/sourcecode/post10-11.png' %}">
            <div class="post_text">
                <p>1. 123456789abcd\n 엔터</p>
                <p>2. fgets(line, LINE_LENGTH, stdin) ⇒ 123456789</p>
                <p>3. != NULL ⇒ NULL이 아니니 출력</p>
                <p>4. fgets(line, LINE_LENGTH, stdin) ⇒ abcd\n</p>
                <p>5. != NULL ⇒ NULL이 아니니 출력</p>
                <p class="ml-5">⇒ 데이터를 123456 위에 덮어씌움</p>
                <p>6. fgets(line, LINE_LENGTH, stdin) ⇒ EOP를 넣어 줬으므로 NULL 반환</p>
            </div>
            <div class="post_subheading">puts() 대신 printf()를 쓴 이유</div>           
            <div class="post_text">
                <li>gets( )로 읽어온 거엔 puts( )를 써도 말이 됨</li>
                <p class="ml-7">⇒ puts( ) : 문자열 마지막에 새 줄 문자 자동 삽입</p>
                <li>fgets( )에는 말이 안됨</li>
                <p class="ml-7">⇒ fgets( )는 문장 단위로 새 줄 문자가 자동으로 삽입이 됨</p>
                <p class="ml-7">⇒ 새 줄 문자를 직접 삽입해줘야하는 printf( )와 사용</p>
            </div>
            <div class="post_subheading">⇒ 새 줄 문자를 직접 삽입해줘야하는 printf( )와 사용</div>
            <div class="post_text">
                <li>일단 단어 하나씩 읽는 것보다 한 줄씩 읽는 것이 빠름</li>
                <li>CPU를 벗어나 외부 구성요소로부터 뭔가를 읽어올 때 한 번에 많이 읽어오는 것이 빠름</li>
                <li>따라서 버퍼의 크기는 충분히 큰 것이 좋음</li>
                <li class="font-bold">하지만 한 줄씩 읽는 것 자체가 의미있다기 보다 '한 데이터씩 읽어올 때' 쓸 일이 더 많음</li>
                <p class="ml-7">⇒ 안전하게 사용하기 위해</p>
            </div>
        </div>
        <div id="한데이터씩읽기">
            <div class="post_heading">3) 한 데이터씩 읽기</div>
            <div class="post_subheading">입력 포맷의 3가지 버전</div>
            <div class="post_text">
                <p>1. scanf( ) : stdin으로부터 읽음</p>
                <img src="{% static 'img/sourcecode/post10-12.png' %}" class="ml-5">
                <p>2. fscanf( ) : 파일 스트림으로부터 읽음</p>
                <img src="{% static 'img/sourcecode/post10-13.png' %}" class="ml-5">
                <p>3. sscanf( ) : C 스타일 문자열로부터 읽음</p>
                <img src="{% static 'img/sourcecode/post10-14.png' %}" class="ml-5">
            </div>
            <div class="post_subheading">stdin에서 정수 읽기</div>
            <img src="{% static 'img/sourcecode/post10-15.png' %}" class="mb-6">
            <div class="post_subheading">scanf()</div>
            <img src="{% static 'img/sourcecode/post10-16.png' %}">
            <div class="post_text">
                <li>< stdio.h >에 있음</li>
                <li>키보드(stdin)로부터 입력을 받아 변수에 저장</li>
            </div>
            <div class="post_subheading">저장할 변수의 주소를 전달하는 이유</div>
            <img src="{% static 'img/sourcecode/post10-17.png' %}">
            <div class="post_text">
                <li>참조에 의한 전달 흉내</li>
                <li>그냥 num을 넣으면 매개변수가 복사되어 함수 속에서 바꿔봐야 반환 시 사라짐</li>
                <img src="{% static 'img/sourcecode/post10-18.png' %}" class="ml-7">
                <li>그냥 scanf( )에서 반환? → 불가능</li>
                <p class="ml-7">⇒ 읽는 타입에 따라 함수이름이 달라져야함</p>
                <img src="{% static 'img/sourcecode/post10-19.png' %}" class="ml-7">
                <li>이름을 다르게 짓는다고 해도 아래와 같은 예 떄문에 안됨 → 반환값 여러 개</li>
                <img src="{% static 'img/sourcecode/post10-20.png' %}" class="ml-7">
            </div>
        </div>
        <div id="일반적인서식문자열형식">
            <div class="post_heading">일반적인 서식 문자열 형식</div>
            <div class="post_box mb-6">
                <div class="post_text mb-0">
                    <p class="font-bold">% [ * ] [ 너비 ] [ 길이 ] 서식 지정자</p>
                </div>
            </div>
            <div class="post_text">
                <li>일반적으로 '%' 뒤에 최대 4개의 지정자를 가질 수 있음</li>
                <li>4가지의 지정자 → 반드시 순서를 지켜 작성해야 함</li>
                <div class="ml-7">
                    <p>1. * (선택)</p>
                    <p>2. 너비 (선택)</p>
                    <p>3. 길이 수정자 (선택)</p>
                    <p>4. 서식 지정자 (필수)</p>
                </div>
            </div>
            <div class="post_subheading">scanf()의 서식 지정자</div>
            <table class="mb-1 w-full table-fixed">
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">%</td>
                        <td class="post_table_border">%를 순수하게 문자로 인식</td>
                        <td class="post_table_border w-1/2">scanf("%%d", &num); /* 컴파일 경고 */</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">c</td>
                        <td class="post_table_border">문자(char)</td>
                        <td class="post_table_border w-1/2">scanf("%c", &ch);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">s</td>
                        <td class="post_table_border">한 단어</td>
                        <td class="post_table_border w-1/2">scanf("%s", &str);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">d</td>
                        <td class="post_table_border">부호있는 10진수 수</td>
                        <td class="post_table_border w-1/2">scanf("%d", &num);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">x</td>
                        <td class="post_table_border">부호없는 16진수 수</td>
                        <td class="post_table_border w-1/2">scanf("%x", &num);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">f</td>
                        <td class="post_table_border">부동 소수점(float)</td>
                        <td class="post_table_border w-1/2">scanf("%f", &num);</td>
                    </tr>
                </tbody>
            </table>
            <div class="post_text">
                <li>반드시 넣어야 함</li>
                <li class="font-bold">모든 데이터는 한 단어씩(공백 문자로 구분) 또는 가능할 때까지 읽음</li>
                <li class="font-bold">공백 문자는 버림 (예외 : %c)</li>
                <p class="ml-7 font-bold">⇒ 공백문자를 읽기 위해서는 반드시 char로 읽어야함</p>
                <li>str은 주소연산자가 안들어감 → 문자열은 자체가 주소임!! </li>
            </div>
            <div class="post_subheading">대입 생략 문자 *</div>
            <img src="{% static 'img/sourcecode/post10-21.png' %}">
            <div class="post_text">
                <li>영어로 assignment-suppressing character</li>
                <li>이 문자를 쓸 경우 키보드로부터 받은 입력을 변수에 저장하지 않음</li>
            </div>
            <div class="post_subheading">너비</div>
            <table class="mb-1 w-full table-fixed">
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/12">정수</td>
                        <td class="post_table_border">읽을 최대 문자 수</td>
                        <td class="post_table_border w-1/2">scanf("%5s", str); / scanf("%10d\n", &num);</td>
                    </tr>                    
                </tbody>
            </table>
            <div class="post_text">
                <li>%s의 경우 너비를 지정 안하면 버퍼 오버플로가 날 수 있음</li>
            </div>
            <div class="post_subheading">길이 수정자(length modifier)</div>
            <table class="mb-1 w-full table-fixed">
                <thead class="text-center bg-yellow-100">
                    <tr>
                      <th class="w-1/6 post_table_border">길이 수정자</th>
                      <th class="w-1/6 post_table_border">서식 지정자</th>
                      <th class="post_table_border"></th>
                      <th class="post_table_border"></th>
                  </thead>
                <tbody class="text-center">
                    <tr>
                        <td class="post_table_border bg-yellow-100"></td>
                        <td class="post_table_border bg-yellow-100">d</td>
                        <td class="post_table_border">int*</td>
                        <td class="post_table_border">scanf(%d\n", &number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100">l</td>
                        <td class="post_table_border bg-yellow-100">d</td>
                        <td class="post_table_border">long int*</td>
                        <td class="post_table_border">scanf(%ld\n", &number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100"></td>
                        <td class="post_table_border bg-yellow-100">f</td>
                        <td class="post_table_border">double*</td>
                        <td class="post_table_border">scanf(%f\n", &number);</td>
                    </tr>
                    <tr>
                        <td class="post_table_border bg-yellow-100 w-1/6">L</td>
                        <td class="post_table_border bg-yellow-100 w-1/6">f</td>
                        <td class="post_table_border">long double*</td>
                        <td class="post_table_border">scanf(%lf\n", &number);</td>
                    </tr>
                </tbody>
            </table>
            <div class="post_text">
                <li>인자의 바이트 크기를 지정해 줌</li>
                <li>출력과 마찬가지로 별 의미 없음</li>
            </div>
            <div class="post_subheading">scanf() : 문자열</div>
            <div class="post_text">
                <li>문자열은 전부 읽어버림</li>
                <li>%s 쓸 때 배열의 크기보다 큰 문자열이 들어오면 버퍼 오버플로 발생</li>
                <li>그래서 scanf( )는 문자열을 읽을 때 좋지 않음</li>
            </div>
            <div class="post_subheading">scanf()의 무한루프</div>
            <img src="{% static 'img/sourcecode/post10-22.png' %}">
            <div class="post_text mb-0">
                <li>뿐만 아니라 다른 자료형을 읽을 때 무한루프에 빠질 위험도도 큼</li>
                <li>정수(int)만 읽으려 했으나 문자(char)가 있어서 읽기가 실패하면 문자가 계속 입력되고 스트림에 남아 무한 루프에 빠져버림</li>
                <li>해결법</li>
                <p class="ml-7">⇒ fgets( )와 sscanf( ) 함수를 같이 쓰는 것이 좋음</p>
            </div>
            <img src="{% static 'img/sourcecode/post10-23.png' %}">
            <div class="post_subheading">버퍼 오버플로 문제 없이 문자열 읽기 : <span class="text-red-600">중요</span></div>
            <img src="{% static 'img/sourcecode/post10-24.png' %}">
            <div class="post_text">
                <li>버퍼 오버플로는 발생하지 않음</li>
                <li>단, 4096보다 긴 문자열이 들어오면 그냥 짤리는게 전부</li>
                <li class="font-bold text-red-600">완벽하게 익혀야 좋은 코드!!</li>
            </div>
            <div class="post_subheading">clearerr()</div>
            <img src="{% static 'img/sourcecode/post10-25.png' %}">
            <div class="post_text">
                <li>스트림을 읽거나 쓸 때 EOF를 만나면 그 스트림의 EOF 표시자(indicator)가 셋팅됨</li>
                <li>그 외의 이유로 실패하면 오류 표시자(error indicator)를 셋팅</li>
                <li>그게 잘 안 지워져서 다음에 읽거나 쓸 때 계속 실패할 수 있음</li>
                <li>그래서 그 오류를 지워주는 것</li>
                <li>feof( )나 ferror( ) 함수를 통해 표시자의 셋팅 여부를 확인할 수 있음</li>
            </div>
            <div class="post_subheading">한 데이터씩 읽는 방법이 유용한 경우</div>
            <div class="post_text">
                <li>텍스트를 다른 자료형으로 곧바로 읽어오는 가장 간단한 방법</li>
                <p class="ml-7">⇒ 안 그러면 문자열로 적혀있는 정수를 일일이 변환해야함</p>
                <li>사용자의 입력을 받을 때</li>
                <li>여러 데이터가 혼용된 텍스트 파일을 읽어올 때</li>
            </div>
        </div>
        <div id="한블록씩읽기">
            <div class="post_heading">4) 한 블록씩 읽기</div>
            <div class="post_text">
                <li>이전까지 본 입력 방법은 텍스트로 저장된 데이터를 읽는 것</li>
                <li>C에서 이진파일을 읽는 방법 ⇒ 한 블록씩 읽기</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-26.png' %}">
            <div class="post_text">
                <li>size 바이트짜리 데이터를 총 count 개수만큼 읽음</li>
                <li>그리고 buffer에 저장</li>
                <li>EOF를 만나면 멈춤</li>
                <p class="ml-7">⇒ count보다 적은 수를 읽을 수 있음</p>
                <li>그래서 실제로 읽은 개수를 반환</li>
                <li>읽을 수 있으므로 당연히 쓰기도 가능함</li>
                <img src="{% static 'img/sourcecode/post10-27.png' %}" class="ml-7">
                <li>이진  데이터는 파일에 쓰고 읽음</li>
            </div>
            <div class="post_subheading">파일 스트림이 있다면 작동하는 코드</div>
            <img src="{% static 'img/sourcecode/post10-28.png' %}">
            <div class="post_text">
                <li>int 블록 저장 : 총 64개 → 총 64 * sizeof(int) 바이트</li>
            </div>
            <div class="post_subheading">한 블록씩 읽는 방법이 유용한 경우</div>
            <div class="post_text">
                <li>가장 중요한 것은 이진 데이터를 읽기 위함</li>
                <li>이진 데이터를 하나씩 읽을 수도 있지만 한꺼번에 읽으면 성능 향상</li>
                <li>기본 데이터형의 크기는 시스템마다 다름</li>
                <li>따라서 아래 사항은 안될 수 있음</li>
                <div class="ml-7">
                    <p>a. A 시스템 용으로 빌드한 실행파일을 실행해서 파일에 저장</p>
                    <p>b. B 시스템 용으로빌드한 실행파일을 실행해서 그 파일을 읽음</p>
                    <p>c. 그러나 바이트 크기가 틀려서 엉뚱한 데이터가 읽힘 (4바이트로 저장한 int가 2바이트씩 읽힐 수 있음)</p>
                </div>
                <li>따라서 이런 일을 하려면 정확히 파일에 저장할 데이터의 크기를고정해두는 것이 좋음</li>
            </div>
        </div>
        <div id="파일입출력">
            <div class="post_heading">파일 입출력</div>
            <div class="post_text">
                <li>C는 파일을 다루기 매우 까다로움</li>
                <p class="ml-7">⇒ C#처럼 파일 내용을 한번에 읽어와서 문자열 배열로 반환하는 등 좋은 함수가 없음</p>
                <li>파일을 복사하는 함수도 없음</li>
                <p class="ml-7">⇒ 각 운영체제에서 제공하는 함수를 사용하거나 그 기능을 직접 스트림 읽기/쓰기 함수를 사용해서 구현해야함</p>
                <li>따라서 C에서 파일 관련 연산은 아래와 같음</li>
                <p class="ml-7">
                    <p>1. 파일을 열어서 파일 스트림에 가져옴</p>
                    <p>2. 그 파일 스트림을 사용해서 하고 싶은걸 함</p>
                    <p>3. 파일을 닫아줌</p>
                </p>
            </div>
            <div class="post_subheading">파일열기</div>
            <img src="{% static 'img/sourcecode/post10-29.png' %}" class="mb-1">
            <img src="{% static 'img/sourcecode/post10-30.png' %}">
            <div class="post_text">
                <li>filename으로 지정된 파일을 엶</li>
                <li>열 떄 사용하는 모드(예: 읽기 전용, 이진파일 등)는 mode로 지정</li>
                <li>반환값은 파일 스트림 포인터!</li>
            </div>
            <div class="post_subheading">파일 열기 모드</div>
            <table class="w-full table-fixed">
                <thead class="text-center bg-yellow-100">
                  <tr>
                    <th class="w-1/12 post_table_border">모드</th>
                    <th class="w-1/2 post_table_border">설명</th>
                    <th class="w-1/4 post_table_border">파일이 이미 있다면</th>
                    <th class="w-1/4 post_table_border">파일이 없다면</th>
                  </tr>
                </thead>
                <tbody class="text-center">
                  <tr>
                    <td class="post_table_border">r</td>
                    <td class="post_table_border">파일을 읽기 전용으로 연다(read)</td>
                    <td class="post_table_border">파일의 첫부분부터 읽는다</td>
                    <td class="post_table_border">열기에 실패한다</td>
                  </tr>
                  <tr>
                    <td class="post_table_border">w</td>
                    <td class="post_table_border">파일을 쓰기 전용으로 생성한다(write)</td>
                    <td class="post_table_border">파일의 내용을 모두 없앤다</td>
                    <td class="post_table_border">새 파일을 생성한다</td>
                  </tr>
                  <tr>
                    <td class="post_table_border">a</td>
                    <td class="post_table_border">파일을 이어 쓴다(append)</td>
                    <td class="post_table_border">파일의 끝부분부터 읽는다</td>
                    <td class="post_table_border">새 파일을 생성한다</td>
                  </tr>
                  <tr>
                    <td class="post_table_border">r+</td>
                    <td class="post_table_border">읽기/쓰기용으로 파일을 연다(read extended)</td>
                    <td class="post_table_border">파일의 첫부분부터 읽는다</td>
                    <td class="post_table_border">오류</td>
                  </tr>
                  <tr>
                    <td class="post_table_border">w+</td>
                    <td class="post_table_border">읽기/쓰기용으로 파일을 생성한다(write extended)</td>
                    <td class="post_table_border">파일의 내용을 모두 없앤다</td>
                    <td class="post_table_border">새 파일을 생성한다</td>
                  </tr>
                  <tr>
                    <td class="post_table_border">a+</td>
                    <td class="post_table_border">읽기/쓰기용으로 파일을 연다(append extended)</td>
                    <td class="post_table_border">파일의 끝부분부터 읽는다</td>
                    <td class="post_table_border">새 파일을 생성한다</td>
                  </tr>                  
                </tbody>
            </table>
            <div class="post_text">
                <li>b를 붙이면 이진모드로 파일을 엶</li>
                <p class="ml-7">⇒ rb, wb, ab, r+b, w+b, a+b</p>
                <li>이진모드란?</li>
                <div class="ml-7">
                    <p>a. 사실 유닉스 계열에는 아무 차이가 없음 (rb나 r이나 동일)</p>
                    <p>b. 윈도우에서 새 줄 문자 처리하는 것만 달라짐 → 그 외 문자는 그대로</p>
                </div>
            </div>
            <div class="post_subheading">윈도우에서 파일 열기</div>
            <div class="post_text">
                <li>파일 읽기용(r, r+, rb, r+b)으로 열 때</li>
                <img src="{% static 'img/sourcecode/post10-31.png' %}" class="ml-7 w-2/3">
                <p class="ml-7">⇒ 파일에서 새 줄을 '\n'으로만 저장했다면, 두 모드 다 '\n'으로 읽음(OD; \r, OA; \n)</p>
                <li>파일 쓸 때</li>
                <img src="{% static 'img/sourcecode/post10-32.png' %}" class="ml-7 w-2/3">
                <p class="ml-7">⇒ 문자열에 '\r\n'이 있었다면, 두 모드 다 '\r\n'으로 씀</p>
            </div>
            <div class="post_box mb-6">
                <div class="post_text mb-0">
                    <li>윈도우 자체 내에서 텍스트파일 상 표기법과 콘솔창 텍스트 문자열 표기법의 뉴라인 코드가 달라서 "r"과 "rb"에 차이가 발생함</li>
                    <li>윈도우 텍스트파일에선 새줄이 "\r\n (ascii: 0D0A)" 이고,</li>
                    <li>윈도우 콘솔창 텍스트 문자열에선 새줄이 "\n (ascii: 0A)"이므로,</li>
                    <li>텍스트파일을 읽어 올 땐 "\r\n"을 "\n"으로 번역해줘야 함</li>
                    <li>반대로 텍스트파일에 쓸 땐 "\n"을 "\r\n"으로 번역해줘야 함</li>
                    <li>만약 텍스트 파일에 쓸 때, "\n"을 "\r\n (ascii: 0D0A)"으로 번역을 안하고, "\n (ascii: 0A)"을 고대로 쓸 경우 ("wb" 바이너리 모드) ,그 텍스트파일 열어보면, 줄바꿈이 안되어 있음.</li>
                    <li>* UNIX 시스템은 텍스트파일이나 콘솔 텍스트나 새줄은 동일하게 "\n" 이므로,rb나 r이나 다르게 읽고 쓸 필요가 없음.</li>
                </div>
            </div>
            <div class="post_subheading">파일 쓰기 예시</div>
            <img src="{% static 'img/sourcecode/post10-33.png' %}">
            <div class="post_text">
                <li>"wb" 이진파일에서는 정상적으로 저장이 됨</li>
                <li>"w", "w+"로 파일을 쓸 경우 원래 파일에 있던 내용이 모두 사라짐</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-34.png' %}">
            <div class="post_text">
                <li>추가적으로 다음과 같이 저장을 해여도 바로 파일에 바로 써지지 않음</li>
                <img src="{% static 'img/sourcecode/post10-35.png' %}" class="ml-7 w-1/3">
                <li>버퍼링에 우선적으로 저장을 해두고 다음 단계로 넘어가게 됨</li>
                <li>즉, 보통 쓰기는 버퍼링 때문에 바로 파일에 저장되지 않음</li>
                <p class="ml-7">1. '\n'이 들어오거나</p>
                <p class="ml-7">2. fflush( )를 호출해야함</p>
                <li>fwrite( )는 '\n'을 '\n'으로 인식을 못 함</li>
                <img src="{% static 'img/sourcecode/post10-36.png' %}" class="ml-7">
                <div class="ml-7">
                    <p>a. 첫 번쨰 인자로 받는 buffer가 char*도 아니고 int*도 아니고 float*도 아니고 그냥 void*임</p>
                    <p>b. 즉, fwrite( ) 입장에서는 그냥 비트 패턴이 줄줄이 들어옴</p>
                    <p class="ml-5">⇒ char*로 들어오면 1바이트 단위로 읽어서 아스키코드로 인식하지만 void*기 때문에 숫자에 의마가 없음</p>
                    <p>c. 0x0A가 fwrite( )입장에서 '\n'를 의미하는지 정수 10을 의마하는지 아니면 부동소수점의 일부 인지 알 수가 없음</p>
                    <p>d. 따라서 fflush( )만이 유일한 해결법!</p>
                </div>
            </div>
            <img src="{% static 'img/sourcecode/post10-37.png' %}">
            <div class="post_text">
                <li>파일에 바로 쓰기 가능!</li>
                <img src="{% static 'img/sourcecode/post10-38.png' %}" class="ml-7 w-1/3">
            </div>
            <div class="post_subheading">파일 읽기 예시</div>
            <img src="{% static 'img/sourcecode/post10-39.png' %}">
            <div class="post_text">
                <li>이진데이터와 파일데이터의 큰 차이는 새줄 처리 문자정도!</li>
            </div>
            <div class="post_subheading">파일에 이어쓰기 예시</div>
            <img src="{% static 'img/sourcecode/post10-40.png' %}" class="mb-6">
            <div class="post_subheading">파일닫기</div>
            <div class="post_text ml-0">
                <p>⇒ 앞서 코드에서 파일을 열기만 하고 닫지를 않았음</p>
            </div>
            <img src="{% static 'img/sourcecode/post10-41.png' %}">
            <div class="post_text">
                <li>열어둔 파일을 안 닫으면 문제가 됨</li>
                <li>파일은 운영체제가 열어주지만, 운영체제는 우리가 언제 파일을 다 써서 필요가 없는지 모름</li>
                <li>따라서 직접 말 안해주면 알아서 닫아주지 않음</li>
                <li>계속 파일을 열기만 한다면 어느 순간 운영체제가 더이상 파일을 열 수가 없음</li>
                <li>C#에서는 언어가 알아서 해줬지만, C는 그렇지 않음</li>
                <li class="font-bold">열었으면 언제다 닫아줘야함!!</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-42.png' %}">
            <div class="post_text">
                <li>파일을 닫음</li>
                <li>성공하면 0, 실패하면 EOF를 반환</li>
                <li>버퍼링 중인 스트림은 다음과 같이 작종</li>
                <div class="ml-7">
                    <p>a. 출력 스트림 : 버퍼에 남아있는 데이터는 파일로 다 보냄</p>
                    <p>b. 입력 스트림 : 무시하고 끝남</p>
                </div>
                <li class="font-bold">통제하지 못하는 환경에 대해서 신경써야함</li>
                <div class="ml-7">
                    <p>a. 파일이 없는 경우</p>
                    <p>b. 있었는데 누가 지우는 경우</p>
                </div>
                <li class="font-bold">파일 닫기에 실패하면 예외처리를 해줘야함</li>
                <p class="ml-7">⇒ 하지만 C는 애외처리가 따로 없음</p>
            </div>
            <div class="post_subheading">예외처리</div>
            <div class="post_text ml-0 mb-0">
                <p>⇒ fopen( ) 함수는 실패하면 널 포인터를 반환함</p>
            </div>
            <img src="{% static 'img/sourcecode/post10-43.png' %}" class="mb-6">
            <div class="post_subheading">stderr</div>
            <div class="post_text">
                <li>프로그램이 실행될 때 자동으로 3개의 스트림을 만들어줌 (stdout, stdin, stderr)</li>
                <li>stderr은 stdout과 비슷</li>
                <li>다만, stderr는 오류 관련 메세지를 출력하는 전용 스트림</li>
                <div class="ml-7">
                    <p>a. 반드시 규칙은 아니고 그냥 관습</p>
                    <p>b. 참고로 stderr은 보통 버퍼링을 쓰지 않음 (오류는 바로바로 보여줘야하기 때문)</p>
                </div>
                <li>콘솔창에서 실행할 때 stdout과 stderr 모두 까만 화면에 같이 섞여 나옴</li>
                <p class="ml-7">⇒ 입출력 리디렉션을 통해 분리 가능</p>
            </div>
            <div class="post_subheading">파일 열기에 실패할 경우</div>
            <img src="{% static 'img/sourcecode/post10-44.png' %}" class="mb-1">
            <div class="post_console">
                <p>> a.exe</p>
                <p>error while opening no_file.txt</p>
            </div>
            <div class="post_text">
                <li>!stream : stream이 NULL일 때</li>
                <li>stream : 스트림이 존재한다면</li>
                <p class="ml-7">⇒ 즉, !stream은 스트림이 존재하지 않는다면 → 스트림이 NULL일 때를 의미함</p>
            </div>
            <div class="post_subheading">오류코드를 보여주는 코드</div>
            <div class="post_text mb-0">
                <li>단순히 실패했단 사실 말고 왜 실패했는지 이유를 알 수 있음</li>
                <li>몇몇 표준 라이브러리 함수들이 실패할 때 그 이유를 숫자(오류코드)로 어딘가 저장해둠</li>
                <li>errno라는 매크로(#define) → < errno.h >안에 있음</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-45.png' %}" class="mb-1">
            <div class="post_console">
                <p>> a.exe</p>
                <p>[2] error while opening no_file.txt</p>
            </div>
            <div class="post_text">
                <li>하지만 이 숫자는 각 컴파일러마다 의미가 달라서 숫자의 의미를 알 방법이 없음</li>
            </div>
            <div class="post_subheading">오류코드를 말로 설명해주는 함수</div>
            <img src="{% static 'img/sourcecode/post10-46.png' %}">
            <div class="post_text mb-0">
                <li>< string.h >에 정의됨</li>
                <li>errno를 넣으면 문자열로 된 친절한 설명을 돌려줌</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-47.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>> a.exe</p>
                <p>no_file.txt - No such file or directory</p>
            </div>
            <div class="post_subheading">perror()</div>
            <img src="{% static 'img/sourcecode/post10-48.png' %}">
            <div class="post_text mb-0">
                <li>이때까지 보여준 오류 내용들을 모두 보여주는 함수</li>
                <p class="ml-7">⇒ 내부적으로 오류 관련 함수들을 호출해준다고 생각하면 됨</p>
            </div>
            <img src="{% static 'img/sourcecode/post10-49.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>> a.exe</p>
                <p>error while opening: No such file or directory</p>
            </div>
            <div class="post_subheading">참고 : C에서의 오류 처리</div>
            <div class="post_text">
                <p>1. 함수가 곧바로 오류코드를 반환</p>
                <p>2. 내부적으로 오류코드를 전역변수로 들고 있고 있다가 검사</p>
            </div>
            <div class="post_subheading">파일 복사하기</div>
            <img src="{% static 'img/sourcecode/post10-50.png' %}" class="mb-6">
        </div>
        <div id="파일탐색">
            <div class="post_heading">파일 탐색</div>
            <div class="post_text">
                <li>스트림은 항 방향으로 흐르며 읽음</li>
                <li>다음에 쓸 위치 또는 읽을 위치로 옮길 수 있음</li>
            </div>
            <div class="post_subheading">파일 위치 표시자(file position indicator)</div>
            <div class="post_text mb-0">
                <li>스트림 안에서 현재 위치를 나타내줌</li>
            </div>
            <div class="post_box mb-6">
                <div class="post_text mb-0">
                    <p class="font-bold">< 스트림의 표시자 ></p>
                    <p>→ 총 3개의 표시자가 있음</p>
                    <div class="ml-3">
                        <p>1. EOF 표시자 : clearerr( )로 지울 수 있음</p>
                        <p>오류 표시자 : clearerr( )로 지울 수 있음</p>
                        <p>파일 위치 표시자 : 지울 수 없음</p>
                        <p class="ml-7">⇒ 파일 위치 표시자는 오류 상황을 나타내는게 아니므로 지울 수 없음</p>
                    </div>
                </div>
            </div>
            <div class="post_subheading">스트림 위치 시작으로 되돌리기</div>
            <img src="{% static 'img/sourcecode/post10-51.png' %}" class="mb-6">
            <div class="post_subheading">파일 두 번 읽기</div>
            <img src="{% static 'img/sourcecode/post10-52.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>20 74 99 49 63</p>
                <p>**rewinded**</p>
                <p>20 74 99 49 63</p>
            </div>
            <div class="post_subheading">임의의 위치 옮기기</div>
            <img src="{% static 'img/sourcecode/post10-53.png' %}">
            <div class="post_text">
                <li>파일 위치 표시자를 origin으로부터 offset만큼 이동함</li>
                <li>orgin에는 세 종류(모두 매크로)가 있음</li>
                <table class="w-1/2 table-fixed ml-7">
                    <thead class="text-center bg-yellow-100">
                      <tr>
                        <th class="w-1/3 post_table_border">orgin</th>
                        <th class="w-2/3 post_table_border">설명</th>
                      </tr>
                    </thead>
                    <tbody class="text-center">
                      <tr>
                        <td class="post_table_border">SEEK_SET</td>
                        <td class="post_table_border">파일의 시작</td>
                      </tr>
                      <tr>
                        <td class="post_table_border">SEEK_CUR</td>
                        <td class="post_table_border">현재 파일 위치</td>
                      </tr>
                      <tr>
                        <td class="post_table_border">SEEK_END</td>
                        <td class="post_table_border">파일의 끝</td>
                      </tr>     
                    </tbody>
                </table>
                <li>위치 이동에 성공하면 0을 반환, 실패하면 0이 아닌 수를 반환</li>
            </div>
            <div class="post_subheading">파일의 앞에서 약간 뒤로 이동하기</div>
            <img src="{% static 'img/sourcecode/post10-54.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>74 99 49 63</p>
                <p>-</p>
            </div>
            <div class="post_subheading">파일의 앞으로 이동 실패</div>
            <img src="{% static 'img/sourcecode/post10-55.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>error while seeking: Invalid argument</p>
                <p>-</p>
            </div>
            <div class="post_subheading">끝에서 앞으로 이동</div>
            <div class="post_text mb-0">
                <li>파일의 끝에서 다시 앞으로 가는건 가능</li>
                <li>하지만 파일의 처음에서더 앞으로 가는 것은 당연히 불가능</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-56.png' %}" class="mb-6">
            <div class="post_subheading">파일 위치 표시자의 현재 위치</div>
            <img src="{% static 'img/sourcecode/post10-57.png' %}">
            <div class="post_text">
                <li>파일 위치 표시자의 현재 위치를 알려주는 함수</li>
                <li>실패하면 -1을 반환</li>
                <div class="ml-7">
                    <p>a. 일반적인 파일 스트림에서는 발생하지 않음</p>
                    <p>b. 파일 크기가 없는 파일 스트림(예: 소켓, 파이프 등)에서 발생</p>
                    <p>c. 파일의 크기가 제공되지 않는 경우에도 발생 가능(예: 가상 파일 시스템)</p>
                </div>
                <li>바이너리 모드로 열었을 때는 파일의 시작 지점으로부터 몇 바이트 떨어져 있는지를 알려줌</li>
                <li>텍스트 모드로 열었을 때 어떤 값을 반환할지 정해져 있지 않으나 유효값을 반환해줌</li>
                <p class="ml-7">⇒ 유효? fseek( )의 offset 매개편수로 사용할 때</p>
            </div>
        </div>
        <div id="입출력리디렉션">
            <div class="post_heading">입출력 리디렉션(IO redirection)</div>
            <div class="post_text">
                <li>파일 입출력과 다르지만 헷갈릴 수 있어 서로 비교가 필요함</li>
                <li>리디렉션 : 방향을 틀어주는 것</li>
                <li>즉, 입력이나 출력이 들어오고 나가는 방향을 다른데로 돌려줌</li>
                <li>입력 리디렉션 <span class="font-bold">(코드 변경 없음)</span></li>
                <p class="ml-7">⇒ 텍스트 파일을 열어 stdin에 대신 타이핑을 쳐주는 기능</p>
                <li>출력 리디렉션 <span class="font-bold">(코드 변경 없음)</span></li>
                <p class="ml-7">⇒ stdout에 출력되는 것을 화면에 보여주는 대신 텍스트 파일에 저장</p>
                <p class="ml-7">⇒ 마찬가지로 stderr에 출력되는 것도 별도의 텍스트 파일에 저장해줌</p>
                <li class="font-bold">입출력 리디렉션은 C의 기능이 아니라 커맨드 라인 또는 shell의 기능! → 어떤 프로그램에 써도됨</li>
            </div>
            <div class="post_subheading">사용 방법</div>
            <div class="post_console">
                <p>> a.exe < input.txt > output.txt 2> error.txt</p>
            </div>
            <div class="post_text">
                <li>stdin : < 를 사용</li>
                <li>stdout : > 를 사용</li>
                <li>stderr : 2> 를 사용</li>
                <li>셋 중 필요한 것만 골라 사용 가능</li>
            </div>
            <div class="post_box mb-6">
                <div class="post_text mb-0">
                    <p class="font-bold">이제까지 테스트를 진행할 때 콘솔창에 하나하나 타이팡을 다 해서 input.txt에 저장하고 a < input.txt를 해주면 끝!</p>
                    <li>출력과 오류 메세지의 확실한 구분 가능</li>
                    <div class="ml-7">
                        <p>a. 출력만 파일에 저장, 오류 메세지는 여전히 화면에</p>
                        <p>b. 아니면 출력을 화면에, 오류 메세지는 파일에</p>
                        <p>c. 아니면 둘 다 별도의 파일에</p>
                    </div>
                </div>
            </div>
            <div class="post_subheading">파일을 다 읽는 순간 EOF가 자동으로 추가</div>
            <div class="post_text">
                <li>기존에 키보드에서 직접 입력할 때는 EOF + 엔터를 쳐줘야 했음</li>
                <div class="ml-7">
                    <p>a. 프로그램이 키보드 입력의 끝을 알 수 없으니 사용자가 직접 넣어줄 수 밖에 없었음</p>
                    <p>b. 그러나 EOF 뒤에 새 줄 문자가 따라옴</p>
                    <p>c. 다시 읽는 함수를 호출하면 문제가 될 수도 있음</p>
                    <p>d. 하지만 파일로 입력 리디렉션을 대신할 경우 자동으로 EOF가 입력됨</p>
                    <p class="ml-5">⇒ EOF(end of file)의 이유</p>
                </div>
            </div>
            <div class="post_subheading">빈 input.txt를 읽을 때</div>
            <img src="{% static 'img/sourcecode/post10-58.png' %}">
            <img src="{% static 'img/sourcecode/post10-59.png' %}" class="mb-6">
            <div class="post_subheading">input.txt의 숫자를 출력하기</div>
            <img src="{% static 'img/sourcecode/post10-60.png' %}">
            <img src="{% static 'img/sourcecode/post10-61.png' %}">
            <div class="post_text">
                <li>콘솔창에는 아무것도 없음!</li>
                <li>타이핑을 안치고 파일로 stdin으로 전달 가능!</li>
                <li>이렇게 stderr과 stdout가 분리 가능</li>
            </div>
            <div class="post_subheading">주의 : fopen()</div>
            <div class="post_text">
                <li>리디렉션과 파일을 여는 것은 완벽하게 다름</li>
                <li>리디렉션을 하라고 할 때 파일을 여는 fopen( )을 하거나 파일을 열려고 리디렉션 하는 경우가 종종 있음</li>
            </div>
        </div>
        <div id="커맨드라인인자">
            <div class="post_heading">커맨드 라인 인자</div>
            <div class="post_console">
                <p>> filecopy.exe a.txt b.txt</p>
                <p class="text-yellow-300">filecopy.exe(프로그램 이름), a.txt/b.txt(커맨드 라인 인자)</p>
            </div>
            <div class="post_text">
                <li>커맨드 라인에서 프로그램을 실행할 때 인자를 넣어주는 방법</li>
                <li>위와 같이 들어온 인자들은 main( ) 함수의 매개변수에서 읽어올 수 있음</li>
            </div>
            <div class="post_subheading">커맨드 라인 인자를 받는 main() 함수</div>
            <img src="{% static 'img/sourcecode/post10-62.png' %}">
            <div class="post_text">
                <li>argc는 들어온 인자의 수</li>
                <p class="ml-7">⇒ 이 수에는 실행한 파일의 이름까지 포함</p>
                <li>아래의 경우 argc는 3임</li>
                <div class="post_console ml-7 w-1/2">
                    <p>> filecopy.exe a.txt b.txt</p>
                </div>
                <div class="ml-7">
                    <p>a. 첫 번째 인자 : 실행한 파일의 경로</p>
                    <p>b. 나머지 인자 : 그 후에 따라온 2개의 인자</p>
                </div>
                <li>argv는 char 포인터 배열</li>
                <div class="ml-7">
                    <p>a. argv[argc + 1]로 생성됨</p>
                    <p>b. argv[argc + 1]로 생성됨</p>
                    <p class="ml-5">⇒ argv[0] = filecopy.exe</p>
                    <p>c. argv[1] ~ argv[argc-1] : 커맨드 라인 인자들이 순차적으로 들어옴</p>
                    <p class="ml-5">⇒ argv[1] = a.txt / argv[2] = b2.txt</p>
                    <p>d. argv[argc] : NULL</p>
                </div>
            </div>
            <div class="post_subheading">char* argv[]는 포인터의 배열의 배열</div>
            <div class="post_text mb-0">
                <li>각 포인터는 그냥 C 스타일 문자열</li>
                <div class="ml-7">
                    <p>1. 커맨드 라인에 들어온 값을 프로그램 실행할 때 만든 프로세스의 메모리 어딘가에 저장하고</p>
                    <p>2. 그 주소들을 모아 argv[ ]배열에 넣어 보내주는 것</p>
                    <p class="ml-5">⇒ 정확히 어떤 메모리에 들어가는지는 OS에 따라 다름</p>
                </div>
            </div>
            <div class="post_console">
                <p>> filecopy.exe a.txt b.txt</p>
            </div>
            <div class="post_text">
                <li>argv[0][3]은 e가 됨</li>
            </div>
            <div class="post_subheading">주의 : 입출력 리디렉션과의 차이</div>
            <div class="post_text mb-0">
                <li>입출력 리디렉션은 커맨드 라인 인자로 들어오지 않음</li>
            </div>
            <img src="{% static 'img/sourcecode/post10-63.png' %}" class="mb-1">
            <div class="post_console mb-6">
                <p>> a.exe < hello.txt</p>
                <p>argc: 1</p>
                <p>argv[0]: a.exe</p>
            </div>
            <div class="post_subheading">제대로 된 파일복사</div>
            <div class="post_text ml-0 mb-0">
                <p>⇒ 앞부분은 동일 main 함수만 바뀜</p>
            </div>
            <img src="{% static 'img/sourcecode/post10-64.png' %}">
        </div>
    </main>
{% endblock post_content %}